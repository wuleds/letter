<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="cn.wule.letter.connect.dao.MessageDao">
    <insert id="savePrivateMessage">
        <![CDATA[
            insert into p_${chatId} (senderId, receiverId, type, text, image, video, audio, file, replyStatus, replyId, createDate, updateDate, status)
            values (#{sender},#{receiver},#{type},#{text},#{image},#{video},#{audio},#{file},#{replyStatus},#{replyMessageId},now(),now(),0)
        ]]>
    </insert>

    <insert id="saveGroupMessage">
        <![CDATA[
            insert into g_${chatId} (senderId, type, text, image, video, audio, file, replyStatus, replyId, createDate, updateDate, status)
            values (#{sender},#{type},#{text},#{image},#{video},#{audio},#{file},#{replyStatus},#{replyMessageId},now(),now(),0)
        ]]>
    </insert>

    <insert id="saveChannelMessage">
        <![CDATA[
            insert into c_${chatId} (senderId,type, text, image, video, audio, file,replyStatus,replyId, createDate, updateDate, status)
            values (#{sender},#{type},#{text},#{image},#{video},#{audio},#{file},1,#{replyMessageId},now(),now(),0)
        ]]>
    </insert>
</mapper>